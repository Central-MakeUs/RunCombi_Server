<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" th:href="@{/admin/css/common.css}" />
    <link rel="stylesheet" th:href="@{/admin/css/version.css}" />
    <title>버전 관리</title>
</head>
<body>
    <!-- 공통 네비게이션 바 호출 -->
    <div th:insert="admin/fragments/navbar :: navbar"></div>

    <main class="content">
        <h1>버전 관리</h1>
        <div class="box">
            <div class="form-section version-form-section">
                <h3 class="section-title-center">최소 버전</h3>
                <div class="form-group">
                    <label>Android</label>
                    <label>
                        <input type="text" th:value="${version.Android}" readonly />
                    </label>
                </div>
                <div class="form-group">
                    <label>iOS</label>
                    <label>
                        <input type="text" th:value="${version.iOS}" readonly />
                    </label>
                </div>
                <hr class="section-divider">
                <h3 class="section-title-center">최소 버전 변경</h3>
                <div class="form-group">
                    <label for="OS">OS</label>
                    <div class="os-select-wrap">
                        <select name="OS" id="OS" class="version-select">
                            <option value="Android">Android</option>
                            <option value="iOS">iOS</option>
                        </select>
                    </div>
                    <label class="field-label-spacer">변경 버전</label>
                    <label>
                        <input type="text" id="version" />
                    </label>
                    <label class="field-label-spacer">변경 사항</label>
                    <label>
                        <textarea id="updateDetail" rows="5" required></textarea>
                    </label>
                </div>
                <button onclick="updateVersion()">수정</button>
            </div>
            <hr class="section-divider">
            <div class="detail-box version-history-section">
                <div class="table-scroll">
                    <h3 class="section-title-center">iOS 버전 변경 내역</h3>
                    <table border="1" cellpadding="10">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>OS</th>
                            <th>Version</th>
                            <th>변경 사항</th>
                            <th>변경 일자</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="version : ${iOSVersionList}">
                            <td th:text="${version.versionId}">ID</td>
                            <td th:text="${version.os}">OS</td>
                            <td th:text="${version.version}">OS</td>
                            <td class="version-detail-cell">
                                <textarea class="version-detail-textarea" rows="5" th:text="${version.updateDetail}" readonly></textarea>
                            </td>
                            <td th:text="${#strings.substring(version.regDate, 0, 10)}">변경 일자</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="detail-box">
                <div class="table-scroll">
                    <h3 class="section-title-center">Android 버전 변경 내역</h3>
                    <table border="1" cellpadding="10">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>OS</th>
                                <th>Version</th>
                                <th>변경 사항</th>
                                <th>변경 일자</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="version : ${AndroidVersionList}">
                                <td th:text="${version.versionId}">ID</td>
                                <td th:text="${version.os}">OS</td>
                                <td th:text="${version.version}">Version</td>
                                <td class="version-detail-cell">
                                    <textarea class="version-detail-textarea" rows="5" th:text="${version.updateDetail}" readonly></textarea>
                                </td>
                                <td th:text="${#strings.substring(version.regDate, 0, 10)}">변경 일자</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <script th:src="@{/admin/js/common.js}"></script>
    <script th:src="@{/admin/js/version.js}"></script>
</body>
</html>
